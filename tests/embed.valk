
test "Embed files" {
    let content = #embed("assets/embed.json")
    let expect = "{ \"test\": \"embed\" }"
    assert(content == expect)

    let files = #embed_dir("assets/embed")
    let paths = files.keys()
    let contents = files.values()

    assert(files.length == 2)
    assert(paths.length == 2)
    assert(contents.length == 2)

    assert(paths.contains("1.txt"))
    assert(paths.contains("sub/2.txt"))
    assert(contents.contains("v1"))
    assert(contents.contains("v2"))

    assert((files.get("1.txt") !? "") == "v1")
    assert((files.get("sub/2.txt") !? "") == "v2")
}