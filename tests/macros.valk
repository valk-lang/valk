
macro array_test optional("[" T:t1 "]") "{" repeat(items, V:v1 optional(","), "}")
<{
	#if is_defined(t1)
	let a = Array[t1].new()
	#else
	let a = Array.new()
	#end
	#loop macro_items items as item
	a.push(item.v1)
	#end
	return a
}

test "Macro" {
    let arr = array_test[String]{}
}
