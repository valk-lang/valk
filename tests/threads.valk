
use valk:thread

shared thread_count : uint (0)

test "Threads" {
    let x = 10
    let t = thread:Thread.start(fn() {
        thread_count++
        thread_count += x
        thread_count++
    })

    t.wait()

    assert(thread_count == 12)
}