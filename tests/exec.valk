
use valk:core

test "Exec" {

    let code, out = core:exec("echo \"hello\"")
    #if OS == win
    assert(code == 0)
    assert(out == "\"hello\" \n")
    #else
    assert(code == 0)
    assert(out == "hello\n")
    #end

    let code1, out1 = core:exec("unknowncomanndtotestvalk")
    #if OS == win
    assert(code1 == 1)
    #else
    assert(code1 == 127)
    #end

    let code2, out2 = core:exec("echo test")
}
