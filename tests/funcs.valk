
fn assert_in_func() {
    assert(true)
}

test "Assert in function" {
    assert_in_func()
}

fn func_default_arg_value_test(v1: String, v2: String ("x"), v3: String) String {
    return v1 + "." + v2 + "." + v3
}

class FuncArgTestClass {
    fn test(v1: String, v2: String ("x"), v3: String) String {
        return v1 + "." + v2 + "." + v3
    }
    static fn test2(v1: String, v2: String ("x"), v3: String) String {
        return v1 + "." + v2 + "." + v3
    }
}

test "Func arg default value _" {
    let str = func_default_arg_value_test("1", _, "3")
    assert(str == "1.x.3")
    str = func_default_arg_value_test("1", "2", "3")
    assert(str == "1.2.3")
    // Class func
    let ob = FuncArgTestClass{}
    str = ob.test("1", _, "3")
    assert(str == "1.x.3")
    str = ob.test("1", "2", "3")
    assert(str == "1.2.3")
    // Static func
    str = FuncArgTestClass.test2("1", _, "3")
    assert(str == "1.x.3")
    str = FuncArgTestClass.test2("1", "2", "3")
    assert(str == "1.2.3")
}

fn func_garg(v1: $V1, v2: $V2) uint {
    #if is_nullable_type(V2)
    return v1.length
    #end
    return v1.length + v2.length
}

test "Func generic arguments" {
    let len = func_garg("Hello", "World")
    assert(len == 10)
    let n : ?String = null
    len = func_garg("Valkow", n)
    assert(len == 6)
}

fn test_inline_rett() [u8 x 2] {
    return { 10, 20 }
}

test "Func inline return type" {
    let res = test_inline_rett()
    assert(res[0] == 10)
    assert(res[1] == 20)
}