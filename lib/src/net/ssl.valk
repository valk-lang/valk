
header "openssl" as ossl

struct SSL {
	~ ssl: ossl:SSL

	static fn new(fd: FD) SSL {
		let method = ossl:TLS_client_method()
		let ctx = ossl:SSL_CTX_new(method)
		let ssl = ossl:SSL_new(ctx)
		ossl:SSL_set_fd(ssl, fd @as i32)

		return SSL {
			ssl: ssl
		}
	}

	fn _free() {
		ossl:SSL_free(this.ssl)
	}
}
