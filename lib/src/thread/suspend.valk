
use ext

+ fn suspend_ns(ns: uint) {
	#if OS == win
	ext:Sleep(1)
	#else
    let nsec = ns.@cast(int)
    let ts = @stack(<ext:libc_timespec>)
    ts.tv_sec = nsec / 1000000000
    ts.tv_nsec = (nsec % 1000000000)
    ext:nanosleep(ts, ts)
	#end
}

+ fn suspend_ms(ms: uint) {
    suspend_ns(ms * 1000)
}
