
use ext

integer PollEvent signed 2 {
    fn is_closed() bool {
        return (this & (ext:POLLHUP | ext:POLLERR)) > 0
    }
    fn is_readable() bool {
        #if OS == win
        return (this & ext:POLLIN) > 0
        #else
        return (this & ext:POLLIN) > 0 && (this & ext:POLLRDHUP) == 0
        #end
    }
    fn is_writable() bool {
        return (this & ext:POLLOUT) > 0
    }
}
