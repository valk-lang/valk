
global stack : ?Stack (@undefined)

value stack_size (10000)

struct Stack {
    base: ptr
    adr: ptr
    size: uint

    static fn new() Stack {
        let base = alloc(stack_size)
        return Stack {
            base: base
            adr: base
            size: stack_size
        }
    }

    fn free() {
        free(this.base)
        free(this)
    }
}

