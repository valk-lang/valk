
struct Token {
    type: int
    decl: ?Decl (null)
    value: ?Value (null)

    fn get_value() Value {
        let v = this.value
        if !isset(v) : build_error("Missing token value (bug)")
        return v
    }
    fn get_decl() Decl {
        let v = this.decl
        if !isset(v) : build_error("Missing token decl (bug)")
        return v
    }
}
