
class Str {
    unit: Unit
    body: String
    nr: uint
    is_used: bool (false)
    ir_defined: bool (false)

    static fn new_value(body: String, ctx: Context) Value {
        let unit = ctx.getUnit()
        let str = unit.new_string(body)
        let func = ctx.func
        if isset(func) : func.strings.append(str)
        if !isset(func) : ctx.error("Missing function context")
        return vgen_string(ctx.build, str)
    }
}
