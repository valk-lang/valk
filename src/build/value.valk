
struct Value {
    type: int
}

fn read_value(p: Parser, scope: Scope) Value {

    let v: ?Value = null
    let t = p.tok(true, true)

    if t == tok_word {
        let id = Id.read_full(p, p.word())
        let idf = scope.find_or_err(p, id)
        v = handle_idf(p, scope, idf)
    }

    if !isset(v) {
        p.error("Unknown value/token: '" + p.word() + "'")
    }

    return v
}

fn handle_idf(p: Parser, scope: Scope, idf: Idf) Value {
    return Value{type: 0}
}
