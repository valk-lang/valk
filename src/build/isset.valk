
fn add_isset(v: Value, on: Value) {
    if on.type != VAL.decl : return
    let issets = v.issets ?? <{
        let list = Array[Decl]{}
        v.issets = list
        return list
    }
    let decl = on.decl
    if !isset(decl) : return
    issets.append(decl)
}

fn apply_issets(scope: Scope, issets: ?Array[Decl]) {
    if !isset(issets) : return

    each issets as decl {
        scope.not_null.append(decl, true)
    }
}
